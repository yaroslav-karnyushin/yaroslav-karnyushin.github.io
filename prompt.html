<!DOCTYPE html>
<html>
<head>
   <title>Find the buried treasure!</title>
</head>


<body>
   <h1 id="heading">Find the buried treasure!</h1>
	
	<img id="map" width=400 height=400 
	src="./treasuremap.png">

	  <p id="distance"></p>

    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
	
   <script>var getRandomNumber = function (size) {
    		return Math.floor(Math.random() * size);
    	};
    	var getDistance = function (event, target) {
    		console.log(event)
    		var diffX = event.offsetX - target.x;
    		var diffY = event.offsetY - target.y;
    		return Math.sqrt((diffX * diffX) + (diffY * diffY));
    	};
    	var getDistanceHint = function (distance) {
    		if (distance < 1) {
    			return "Boiling hot!";
    		} else if (distance < 20) {
    			return "Really really hot!";
    		} else if (distance < 30) {
    			return "Really hot!";
    		} else if (distance < 40) {
    			return "Hot!";
    		} else if (distance < 80) {
    			return "Warn!";
    		} else if (distance < 160){
    			return "Cold!";
    		} else  if (distance < 320) {
    			return "Really cold!";
    		} else if (distance < 640) {
    			return "Really really cold!";
    		} else {
    			return "Freezing!"
    		}
    	};
    	var width = 800;
    	var height =800;
    	var clicks = 0;

    	var target = {
    		x: getRandomNumber(width),
            y: getRandomNumber(height)
    	};
    	$("#map").click(function (event) {
    		clicks++;
    		if (clicks > 20) {
    			target = {
    				x: getRandomNumber(width),
            		y: getRandomNumber(height)
    			};
    			alert("GAME OVER!")
    			clicks = 0;
    		} else {
    			alert((20 - clicks) + " Attempts left!");
    			var distance = getDistance(event, target);
    			var distanceHint = getDistanceHint(distance);
    			$("#distance").text(distanceHint);
    			if (distance < 10) {
    				alert("Found the treasure in " + clicks + " clicks!");
    				clicks = 0;
    			};
    		};
    		
    	});
   </script>
</body>
</html>
